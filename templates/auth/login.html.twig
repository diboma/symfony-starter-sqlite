{% extends 'layouts/base.html.twig' %}

{% block title %}{{ 'login'|trans|capitalize }}{% endblock %}

{% block body %}
  
    <form action="{{ path('app_login') }}" 
        method="post" 
        class="card shadow p-3 mx-auto" 
        style="max-width: 320px">

    <h1 class="h3 mb-3 font-weight-normal text-center">{{ 'login'|trans|capitalize }}</h1>
    
    {% if error %}
      <twig:Alert type="danger" message="{{ error.messageKey|trans(error.messageData, 'security') }}" />
    {% endif %}

    <input type="hidden" name="_csrf_token"
           value="{{ csrf_token('authenticate') }}">
       
    <div class="mb-3">
      <label for="username" class="form-label">{{ 'email'|trans|capitalize }}</label>
      <input type="email" 
             id="username" 
             name="_username" 
             value="{{ last_username }}" 
             class="form-control" 
             autocomplete="email" 
             required>
    </div>
    
    <div class="mb-3">
      <label for="password" class="form-label">{{ 'password'|trans|capitalize }}</label>
      <input type="password" 
             id="password" 
             name="_password" 
             class="form-control" 
             autocomplete="current-password" 
             required>
    </div>

    {#
        Uncomment this section and add a remember_me option below your firewall to activate remember me functionality.
        See https://symfony.com/doc/current/security/remember_me.html

        <div class="checkbox mb-3">
            <input type="checkbox" name="_remember_me" id="_remember_me">
            <label for="_remember_me">Remember me</label>
        </div>
    #}
 
    <div class="mt-3 text-center">
      <twig:Button type="submit"
                   variant="btn-primary"
                   class="mb-3 w-100"
                   label="{{ 'login'|trans|capitalize }}"/>

      <div class="d-flex flex-column gap-1">
        <a href="{{ path('app_register') }}" class="text-center small w-100">
            {{ 'no_account'|trans|capitalize }}?
        </a>

        <a href="{{ path('app_forgot_password_request') }}" class="text-center small w-100">
            {{ 'forgot_password'|trans|capitalize }}?
        </a>
      </div>
    </div>

  </form>
{% endblock %}
